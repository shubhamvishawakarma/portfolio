"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_diffs_diff-parts_ts"],{67220:(e,i,t)=>{function l(e){return`line-${e}`}function n(e,i,t){return`${e}${"left"===i?"L":"R"}${t}`}function r(e){return"DELETION"===e?"left":"right"}function a(e,i=!1,t=!1){if(t)return"var(--bgColor-attention-muted, var(--color-attention-subtle))";switch(e){case"ADDITION":return i?"var(--diffBlob-additionNum-bgColor, var(--diffBlob-addition-bgColor-num))":"var(--diffBlob-additionLine-bgColor, var(--diffBlob-addition-bgColor-line))";case"DELETION":return i?"var(--diffBlob-deletionNum-bgColor, var(--diffBlob-deletion-bgColor-num))":"var(--diffBlob-deletionLine-bgColor, var(--diffBlob-deletion-bgColor-line))";case"HUNK":return i?"var(--diffBlob-hunkNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-hunkLine-bgColor, var(--bgColor-accent-muted))";case"EMPTY":return i?"var(--diffBlob-emptyNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-emptyLine-bgColor, var(--bgColor-accent-muted))";default:return}}function d(e){let i=0;if(e)for(let t of e)i=Math.max(i,t?.left??0,t?.right??0);return Math.max(8*i.toString().length+20,40).toString()}t.d(i,{IQ:()=>n,Sq:()=>l,XU:()=>r,c7:()=>d,gK:()=>a})},73974:(e,i,t)=>{t.d(i,{Jg:()=>o,nq:()=>c,uP:()=>h.u,zl:()=>u.z,$e:()=>y,P3:()=>m,wj:()=>g,l4:()=>C,Qe:()=>b,Ah:()=>v});var l=t(74848),n=t(20053),r=t(44968),a=t(67220);let d=e=>{let{dragging:i,isHighlighted:t,isLeftColumn:d,colSpan:s,line:o,lineAnchor:f}=e,c=o.html,h="";return["ADDITION","DELETION"].includes(o.type)&&["+","-"].includes(c[0])&&(h=c[0],c=c.slice(1)),(0,l.jsx)("td",{className:(0,n.$)("diff-text-cell",{"border-left color-border-accent-emphasis":i&&t,"border-right":d&&"HUNK"!==o.type}),colSpan:s,id:f?(0,a.Sq)(f):void 0,style:{backgroundColor:(0,a.gK)(o.type,!1,t)},children:(0,l.jsxs)("code",{"data-code-marker":h,className:(0,n.$)("diff-text syntax-highlighted-line",{addition:"ADDITION"===o.type,deletion:"DELETION"===o.type}),children:[e.lineChild,(0,l.jsx)(r.mo,{className:(0,n.$)("diff-text-inner",{"color-fg-muted":"HUNK"===o.type}),html:c,style:{marginLeft:"CONTEXT"===o.type?"-7px":void 0}})]})})};try{d.displayName||(d.displayName="DiffText")}catch{}let s=({ariaLabel:e,children:i,hasExpanderButton:t,lineType:r,colSpan:d,interactiveProps:s,isHighlighted:o,...f})=>{let c=(0,l.jsx)("code",{className:"pr-2",children:i});return s&&(c=(0,l.jsx)("button",{className:"diff-line-number-button",...s,"aria-label":e,children:c})),(0,l.jsx)("td",{"aria-label":s?void 0:e,"data-line-number":!0,className:(0,n.$)("diff-line-number",{"has-expander":t,clickable:!!s}),colSpan:d||1,style:{backgroundColor:(0,a.gK)(r,!0,o)},...f,children:c})};try{s.displayName||(s.displayName="LineNumber")}catch{}let o=({dragging:e,isHighlighted:i,isLeftColumn:t,isSplit:n,lineAnchor:r,line:a,lineChild:o,onLineNumberClick:f})=>{let c="CONTEXT"===a.type||"INJECTED_CONTEXT"===a.type,h="ADDITION"!==a.type,u=h||!n,x="DELETION"!==a.type,m=x&&!c||!n,p=n&&c?t?a.left:a.right:a.left;return(0,l.jsxs)(l.Fragment,{children:[u&&(0,l.jsx)(s,{ariaLabel:`Line ${h?a.left?.toString():a.right?.toString()}`,lineType:a.type,interactiveProps:f?{onClick:f}:null,isHighlighted:i,children:h&&p}),m&&(0,l.jsx)(s,{ariaLabel:`Line ${x?a.right?.toString():a.left?.toString()}`,lineType:a.type,interactiveProps:f?{onClick:f}:null,isHighlighted:i,children:x&&a.right}),(0,l.jsx)(d,{dragging:e,isHighlighted:i,isLeftColumn:t,line:a,lineAnchor:r,lineChild:o})]})};try{o.displayName||(o.displayName="DiffLinePart")}catch{}var f=t(75177);function c(){return(0,l.jsx)(f.A,{"aria-hidden":"true",as:"svg",version:"1.1",viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",sx:{bottom:"0 !important",clip:"rect(1px, 1px, 1px, 1px)",clipPath:"inset(50%)",height:"84px",position:"absolute",width:"320px"},children:(0,l.jsxs)("defs",{children:[(0,l.jsxs)("clipPath",{id:"diff-placeholder",children:[(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"67.0175439",x:"0",y:"0"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"100.701754",x:"18.9473684",y:"47.7194983"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"37.8947368",x:"0",y:"71.930126"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"53.3333333",x:"127.017544",y:"48.0703769"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"72.9824561",x:"187.719298",y:"48.0703769"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"76.8421053",y:"0"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"17.8947368",y:"23.8597491"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"173.684211",x:"166.315789",y:"23.8597491"})]}),(0,l.jsxs)("linearGradient",{id:"animated-diff-gradient",spreadMethod:"reflect",x1:"0",x2:"0",y1:"0",y2:"1",children:[(0,l.jsx)("stop",{offset:"0",stopColor:"#eee"}),(0,l.jsx)("stop",{offset:"0.2",stopColor:"#eee"}),(0,l.jsx)("stop",{offset:"0.5",stopColor:"#ddd"}),(0,l.jsx)("stop",{offset:"0.8",stopColor:"#eee"}),(0,l.jsx)("stop",{offset:"1",stopColor:"#eee"}),(0,l.jsx)("animateTransform",{attributeName:"y1",dur:"1s",repeatCount:"3",values:"0%; 100%; 0"}),(0,l.jsx)("animateTransform",{attributeName:"y2",dur:"1s",repeatCount:"3",values:"100%; 200%; 0"})]})]})})}try{c.displayName||(c.displayName="DiffPlaceholder")}catch{}var h=t(20174),u=t(69710),x=t(38621);function m({currentLine:e,hunkButton:i,isLeftColumn:t,isSplit:n}){return n&&!t?null:(0,l.jsxs)(l.Fragment,{children:[i?(0,l.jsx)(s,{colSpan:n?1:2,hasExpanderButton:!0,lineType:e.type,children:i}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s,{lineType:e.type,children:(0,l.jsx)(x.KebabHorizontalIcon,{})}),!n&&(0,l.jsx)(s,{lineType:e.type,children:(0,l.jsx)(x.KebabHorizontalIcon,{})})]}),(0,l.jsx)(d,{isHighlighted:!1,isLeftColumn:!0,colSpan:n?3:void 0,line:e})]})}try{m.displayName||(m.displayName="HunkHeaderDiffLine")}catch{}function p(){return(0,l.jsx)("div",{className:"hunk-kebab-icon pr-2 pb-1",children:(0,l.jsx)(x.KebabHorizontalIcon,{})})}try{p.displayName||(p.displayName="HunkKebabIcon")}catch{}function y({isLeftColumn:e}){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s,{lineType:"EMPTY"}),(0,l.jsx)("td",{className:(0,n.$)("empty-diff-line",{"border-right":e}),colSpan:1})]})}try{y.displayName||(y.displayName="EmptyDiffLine")}catch{}function g(e){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("thead",{className:"sr-only",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",children:"Original file line number"}),(0,l.jsx)("th",{scope:"col",children:"Original file line"}),(0,l.jsx)("th",{scope:"col",children:"Diff line number"}),(0,l.jsx)("th",{scope:"col",children:"Diff line change"})]})}),(0,l.jsxs)("colgroup",{children:[(0,l.jsx)("col",{width:e.lineWidth}),(0,l.jsx)("col",{}),(0,l.jsx)("col",{width:e.lineWidth}),(0,l.jsx)("col",{})]}),(0,l.jsx)("tbody",{children:e.children})]})}try{g.displayName||(g.displayName="SplitDiffTable")}catch{}function b(e){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("thead",{className:"sr-only",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",children:"Original file line number"}),(0,l.jsx)("th",{scope:"col",children:"Diff line number"}),(0,l.jsx)("th",{scope:"col",children:"Diff line change"})]})}),(0,l.jsxs)("colgroup",{children:[(0,l.jsx)("col",{width:e.lineWidth}),(0,l.jsx)("col",{width:e.lineWidth}),(0,l.jsx)("col",{width:"100%"})]}),(0,l.jsx)("tbody",{children:e.children})]})}try{b.displayName||(b.displayName="UnifiedDiffTable")}catch{}let j={diffTextCell:"UnifiedDiffLines-module__diffTextCell--UAuIr",diffHunkCell:"UnifiedDiffLines-module__diffHunkCell--qPkzg",diffHunkText:"UnifiedDiffLines-module__diffHunkText--Sfwuu",diffTextInner:"UnifiedDiffLines-module__diffTextInner--IuEAA",diffTextMarker:"UnifiedDiffLines-module__diffTextMarker--MdAo4",syntaxHighlightedAdditionLine:"UnifiedDiffLines-module__syntaxHighlightedAdditionLine--lU_S2",syntaxHighlightedDeletionLine:"UnifiedDiffLines-module__syntaxHighlightedDeletionLine--xgQwN",diffLineNumber:"UnifiedDiffLines-module__diffLineNumber--bzzxf"};function N({line:e,children:i}){return(0,l.jsx)("td",{className:j.diffLineNumber,style:{backgroundColor:(0,a.gK)(e.type,!0),textAlign:"center"},children:(0,l.jsx)("code",{children:i})})}function D({line:e}){return(0,l.jsx)("td",{colSpan:4,className:j.diffHunkCell,valign:"top",children:(0,l.jsxs)("div",{className:"d-flex flex-row",children:[(0,l.jsx)(p,{}),(0,l.jsx)("code",{className:j.diffHunkText,children:(0,l.jsx)(r.mo,{className:(0,n.$)(j.diffTextInner,"color-fg-muted"),html:e.html})})]})})}function T({line:e}){let i="HUNK"===e.type,t="ADDITION"!==e.type,d="DELETION"!==e.type,s="ADDITION"===e.type?"+":"DELETION"===e.type?"-":void 0;return(0,l.jsxs)("tr",{children:[i&&(0,l.jsx)(D,{line:e}),!i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N,{line:e,children:t&&e.left}),(0,l.jsx)(N,{line:e,children:d&&e.right}),(0,l.jsx)("td",{className:j.diffTextCell,style:{backgroundColor:(0,a.gK)(e.type,!1)},children:(0,l.jsxs)("code",{className:(0,n.$)("ADDITION"===e.type&&j.syntaxHighlightedAdditionLine,"DELETION"===e.type&&j.syntaxHighlightedDeletionLine),children:[!!s&&(0,l.jsx)("span",{className:j.diffTextMarker,children:s}),(0,l.jsx)(r.mo,{className:j.diffTextInner,html:e.html,style:{backgroundColor:(0,a.gK)(e.type,!1)}})]})})]})]})}function C({sx:e,lines:i,lineWidth:t,tabSize:n}){let r=i.map((e,i)=>(0,l.jsx)(T,{line:e,tabSize:n},i));return(0,l.jsx)(f.A,{as:"table",className:"tab-size","data-tab-size":n,sx:{borderTop:0,borderBottom:0,borderLeft:1,borderRight:1,borderStyle:"solid",borderColor:"border.muted",...e},children:(0,l.jsx)(b,{lineWidth:t,children:r})})}try{N.displayName||(N.displayName="LineNumberCell")}catch{}try{D.displayName||(D.displayName="HunkCell")}catch{}try{T.displayName||(T.displayName="UnifiedDiffRow")}catch{}try{C.displayName||(C.displayName="UnifiedDiffLines")}catch{}function L(e){return"LEFT"===e?"-":"RIGHT"===e?"+":""}function v({startDiffSide:e,endDiffSide:i,originalStartLine:t,originalEndLine:l}){return e&&i&&"number"==typeof t&&"number"==typeof l?0===t&&1===l&&e===i?"-1 to +1":e===i&&t===l?`${L(e)}${t}`:`${L(e)}${t} to ${L(i)}${l}`:""}},20174:(e,i,t)=>{t.d(i,{u:()=>a});var l=t(74848),n=t(20053);let r={diffSquare:"DiffSquares-module__diffSquare--h5kjy",addition:"DiffSquares-module__addition--jeNtt",deletion:"DiffSquares-module__deletion--hKV3q",neutral:"DiffSquares-module__neutral--VlyoP"};function a({squares:e}){return(0,l.jsx)("div",{className:"d-flex",children:e.map((e,i)=>(0,l.jsx)("div",{"data-testid":`${e} diffstat`,className:(0,n.$)(r.diffSquare,r[e])},i))})}try{a.displayName||(a.displayName="DiffSquares")}catch{}},69710:(e,i,t)=>{t.d(i,{z:()=>d});var l=t(74848),n=t(94977),r=t(20174);let a={addition:"addition",deletion:"deletion",neutral:"neutral"};function d({linesAdded:e=0,linesDeleted:i=0,linesChanged:t=0,tooltipDirection:d}){if(!e&&!i&&!t||0===t)return null;let{greenSquares:s,redSquares:o,graySquares:f}=function(e,i,t){let l=t>5?5/t:1,n=Math.floor(e*l),r=Math.floor(i*l);return{greenSquares:n,redSquares:r,graySquares:5-n-r}}(e,i,t),c=[...Array(s).fill(a.addition),...Array(o).fill(a.deletion),...Array(f).fill(a.neutral)];return(0,l.jsxs)("div",{className:"d-flex flex-items-center gap-1 pl-1",children:[e>0&&(0,l.jsxs)("span",{className:"f6 text-bold fgColor-success",children:["+",e.toLocaleString()]}),i>0&&(0,l.jsxs)("span",{className:"f6 text-bold fgColor-danger",children:["-",i.toLocaleString()]}),(0,l.jsx)(n.A,{"aria-label":function({linesAdded:e,linesChanged:i,linesDeleted:t}){return`${i} ${1===i?"change":"changes"}: ${e} ${1===e?"addition":"additions"} & ${t} ${1===t?"deletion":"deletions"}`}({linesAdded:e,linesChanged:t,linesDeleted:i}),direction:d??"e",children:(0,l.jsx)(r.u,{squares:c})})]})}try{d.displayName||(d.displayName="DiffStats")}catch{}}}]);
//# sourceMappingURL=ui_packages_diffs_diff-parts_ts-835804a8a868.js.map